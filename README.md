# π“ κΈλ¦¬/ν™μ¨ λ°μ΄ν„° λ¶„μ„ λ€μ‹λ³΄λ“

Python Dashλ¥Ό μ‚¬μ©ν• κΈλ¦¬/ν™μ¨ μ‹κ³„μ—΄ λ°μ΄ν„° λ¶„μ„ λ€μ‹λ³΄λ“
FastAPI μ„λ²„μ—μ„ Oracle DB λ°μ΄ν„°λ¥Ό μ΅°νν•μ—¬ μ‹κ°ν™”

## β¨ μ£Όμ” κΈ°λ¥

### π“ λ°μ΄ν„° νƒ€μ…
- **κΈλ¦¬ λ°μ΄ν„°** - κµ­κ³ μ±„, μ¤‘μ•™μ€ν–‰ κΈλ¦¬, νμ‚¬μ±„
- **ν™μ¨ λ°μ΄ν„°** - μ£Όμ”ν†µν™”, λ‹¬λ¬κΈ°μ¤€, μ‹ ν¥κµ­ ν†µν™”

### π― μΉ΄ν…κ³ λ¦¬λ³„ ν•„ν„°λ§
- **κΈλ¦¬**
  - κµ­κ³ μ±„: US_10Y, KR_3Y, KR_5Y, KR_10Y, JP_10Y
  - μ¤‘μ•™μ€ν–‰: FED_RATE, BOK_RATE, ECB_RATE, BOJ_RATE
  - νμ‚¬μ±„: KR_AAA_3Y, KR_AA_3Y, US_CORP_BBB

- **ν™μ¨**
  - μ£Όμ”ν†µν™”: USD/KRW, EUR/KRW, JPY/KRW, CNY/KRW
  - λ‹¬λ¬κΈ°μ¤€: EUR/USD, GBP/USD, JPY/USD, AUD/USD
  - μ‹ ν¥κµ­: USD/BRL, USD/INR, USD/MXN, USD/ZAR

### π“ μ‹κ°ν™”
1. **μ‹κ³„μ—΄ κ·Έλν”„** - μ¶”μ„Έ λ° ν¨ν„΄ λ¶„μ„
2. **μΌκ°„ λ³€ν™”λ‰ μ°¨νΈ** - λ³€λ™μ„± ν™•μΈ
3. **νμ¤ν† κ·Έλ¨** - λ°μ΄ν„° λ¶„ν¬ λ¶„μ„
4. **μƒκ΄€κ΄€κ³„ ννΈλ§µ** - ν•­λ©κ°„ μƒκ΄€κ΄€κ³„
5. **λ°•μ¤ν”λ΅―** - λ¶„μ‚° λ° μ΄μƒμΉ λΉ„κµ

### π“ ν†µκ³„ μ§€ν‘
- ν„μ¬κ°’, ν‰κ· , ν‘μ¤€νΈμ°¨
- μµμ†/μµλ€, μ¤‘μ•™κ°’, μ‚¬λ¶„μ„μ
- 1μΌ/1μ£Ό/1κ°μ›” λ³€ν™”λ‰
- λ³€ν™”μ¨ (%)

## π—οΈ μ•„ν‚¤ν…μ²

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      HTTP API       β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      SQL Query      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚             β”‚ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€> β”‚              β”‚ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€> β”‚          β”‚
β”‚  Dash App   β”‚                     β”‚  FastAPI     β”‚                     β”‚ Oracle   β”‚
β”‚  (Frontend) β”‚                     β”‚  Server      β”‚                     β”‚    DB    β”‚
β”‚             β”‚ <β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€ β”‚  (Backend)   β”‚ <β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€ β”‚          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      JSON Data      β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      Result Set     β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

> **λ¦¬ν©ν† λ§ μ™„λ£ (2025-10-24)**: λ¨λ†€λ¦¬μ‹ κµ¬μ΅°μ—μ„ λ¨λ“ν™”λ κµ¬μ΅°λ΅ κ°μ„ 
> μμ„Έν• λ‚΄μ©μ€ [REFACTORING.md](REFACTORING.md) μ°Έμ΅°

```
dash_plot/
β”β”€β”€ app.py                       # λ©”μΈ μ—”νΈλ¦¬ν¬μΈνΈ (68μ¤„, λ¦¬ν©ν† λ§λ¨)
β”β”€β”€ app_old_monolith.py          # μ΄μ „ λ¨λ†€λ¦¬μ‹ λ²„μ „ λ°±μ—… (697μ¤„)
β”β”€β”€ config.py                    # μ „μ—­ μ„¤μ • λ° μƒμ
β”β”€β”€ app/                         # μ• ν”λ¦¬μΌ€μ΄μ… λ¨λ“
β”‚   β”β”€β”€ __init__.py
β”‚   β”β”€β”€ layouts/                 # UI λ μ΄μ•„μ›ƒ
β”‚   β”‚   β”β”€β”€ main_layout.py
β”‚   β”‚   β”β”€β”€ control_panel.py
β”‚   β”‚   β””β”€β”€ charts_section.py
β”‚   β”β”€β”€ components/              # μ¬μ‚¬μ© κ°€λ¥ν• μ»΄ν¬λ„νΈ
β”‚   β”‚   β”β”€β”€ charts.py
β”‚   β”‚   β””β”€β”€ tables.py
β”‚   β”β”€β”€ callbacks/               # μ½λ°± ν•¨μ
β”‚   β”‚   β”β”€β”€ ui_callbacks.py
β”‚   β”‚   β”β”€β”€ data_callbacks.py
β”‚   β”‚   β””β”€β”€ chart_callbacks.py
β”‚   β””β”€β”€ utils/                   # μ ν‹Έλ¦¬ν‹° ν•¨μ
β”‚       β”β”€β”€ data_utils.py
β”‚       β””β”€β”€ chart_utils.py
β”β”€β”€ src/
β”‚   β”β”€β”€ api_client.py            # FastAPI ν΄λΌμ΄μ–ΈνΈ
β”‚   β”β”€β”€ db_config.py             # DB μ„¤μ •
β”‚   β””β”€β”€ oracle_data_loader.py    # Oracle λ΅λ” (μ°Έκ³ μ©)
β”β”€β”€ tests/                       # ν…μ¤νΈ (μƒλ΅ μ¶”κ°€)
β”‚   β”β”€β”€ __init__.py
β”‚   β””β”€β”€ test_utils.py
β”β”€β”€ assets/
β”‚   β”β”€β”€ bootstrap.min.css        # Bootstrap CSS (λ΅μ»¬)
β”‚   β””β”€β”€ styles.css               # μ»¤μ¤ν…€ CSS
β”β”€β”€ requirements.txt             # Python ν¨ν‚¤μ§€
β”β”€β”€ API_SPEC.md                  # FastAPI μ„λ²„ API λ…μ„Έ
β”β”€β”€ REFACTORING.md               # λ¦¬ν©ν† λ§ λ¬Έμ„
β””β”€β”€ README.md                    # μ΄ νμΌ
```

## π€ λΉ λ¥Έ μ‹μ‘

### 1. μ„¤μΉ

```bash
git clone https://github.com/minhoo-main/dash_plot.git
cd dash_plot

# ν¨ν‚¤μ§€ μ„¤μΉ
pip install -r requirements.txt
```

### 2. FastAPI μ„λ²„ μ„¤μ •

**API λ…μ„Έλ” `API_SPEC.md` μ°Έκ³ **

FastAPI μ„λ²„κ°€ λ‹¤μ μ—”λ“ν¬μΈνΈλ¥Ό μ κ³µν•΄μ•Ό ν•©λ‹λ‹¤:

- `GET /api/categories` - μΉ΄ν…κ³ λ¦¬ λ©λ΅
- `GET /api/interest-rates` - κΈλ¦¬ λ°μ΄ν„°
- `GET /api/exchange-rates` - ν™μ¨ λ°μ΄ν„°
- `GET /api/statistics` - ν†µκ³„ λ°μ΄ν„°

### 3. Dash μ•± μ‹¤ν–‰

```bash
# Mock λ°μ΄ν„°λ΅ ν…μ¤νΈ (FastAPI μ„λ²„ λ¶ν•„μ”)
python app.py

# μ‹¤μ  FastAPI μ„λ²„μ™€ μ—°κ²°
# app.py νμΌμ—μ„ λ‹¤μ λΌμΈ μμ •:
# client = APIClient(base_url="http://localhost:8000")  # μ‹¤μ  μ„λ²„ URL
```

λΈλΌμ°μ €μ—μ„ http://localhost:8050 μ ‘μ†

## π” FastAPI μ„λ²„ μ—°λ™

### app.pyμ—μ„ ν΄λΌμ΄μ–ΈνΈ λ³€κ²½

```python
# Mock ν΄λΌμ΄μ–ΈνΈ (ν…μ¤νΈμ©)
from api_client import MockAPIClient
client = MockAPIClient()

# β†“ μ‹¤μ  μ„λ²„ μ‚¬μ© μ‹

from api_client import APIClient
client = APIClient(base_url="http://localhost:8000")
```

### FastAPI μ„λ²„ μ‘λ‹µ ν•μ‹

**κΈλ¦¬ λ°μ΄ν„° μμ‹:**
```json
{
  "status": "success",
  "data": {
    "dates": ["2024-01-01", "2024-01-02", "..."],
    "series": {
      "US_10Y": {
        "name": "US 10-Year Treasury",
        "category": "κµ­κ³ μ±„",
        "values": [4.05, 4.03, "..."],
        "unit": "%"
      }
    },
    "metadata": {
      "total_records": 297,
      "start_date": "2024-01-01",
      "end_date": "2024-10-23"
    }
  }
}
```

μμ„Έν• API λ…μ„Έλ” `API_SPEC.md` μ°Έκ³ 

## π“ μ‚¬μ© λ°©λ²•

1. **λ°μ΄ν„° νƒ€μ… μ„ νƒ**: κΈλ¦¬ λλ” ν™μ¨
2. **μΉ΄ν…κ³ λ¦¬ μ„ νƒ**: μ›ν•λ” μΉ΄ν…κ³ λ¦¬ μ„ νƒ (λ‹¤μ¤‘ μ„ νƒ κ°€λ¥)
3. **ν•­λ© μ„ νƒ**: λ¶„μ„ν•  κµ¬μ²΄μ  ν•­λ© μ„ νƒ
4. **λ‚ μ§ λ²”μ„ μ„¤μ •**: μ‹μ‘μΌ/μΆ…λ£μΌ μ§€μ •
5. **λ°μ΄ν„° λ΅λ“ λ²„νΌ ν΄λ¦­**: FastAPI μ„λ²„μ—μ„ λ°μ΄ν„° μ΅°ν
6. **μ°¨νΈ λ° ν†µκ³„ ν™•μΈ**: λ‹¤μ–‘ν• μ‹κ°ν™” λ° ν†µκ³„ μ§€ν‘ λ¶„μ„

## π¨ ν™”λ©΄ κµ¬μ„±

### μƒλ‹¨
- ν†µκ³„ μΉ΄λ“: κ° ν•­λ©μ ν„μ¬κ°’, λ³€ν™”λ‰, κΈ°λ³Έ ν†µκ³„

### μ¤‘κ°„
- μ‹κ³„μ—΄ μ°¨νΈ: μ¶”μ„Έ λ¶„μ„
- μΌκ°„ λ³€ν™”λ‰ μ°¨νΈ: λ³€λ™μ„± ν™•μΈ
- νμ¤ν† κ·Έλ¨: λ¶„ν¬ λ¶„μ„

### ν•λ‹¨
- μƒκ΄€κ΄€κ³„ ννΈλ§µ: ν•­λ©κ°„ κ΄€κ³„
- λ°•μ¤ν”λ΅―: λ¶„μ‚° λΉ„κµ
- ν†µκ³„ν‘: μƒμ„Έ ν†µκ³„ μ§€ν‘

## π› οΈ κΈ°μ  μ¤νƒ

### Frontend (Dash App)
- **Dash 2.14.2** - μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… ν”„λ μ„μ›ν¬
- **Plotly 5.18.0** - μΈν„°λ™ν‹°λΈ μ°¨νΈ
- **dash-bootstrap-components** - UI μ»΄ν¬λ„νΈ
- **pandas, numpy** - λ°μ΄ν„° μ²λ¦¬

### Backend (FastAPI Server) - λ³„λ„ κµ¬ν„ ν•„μ”
- **FastAPI** - API μ„λ²„
- **cx_Oracle** - Oracle DB μ—°κ²°
- **pandas** - λ°μ΄ν„° μ²λ¦¬

### Database
- **Oracle Database** - κΈλ¦¬/ν™μ¨ λ°μ΄ν„° μ €μ¥

## π“‹ FastAPI μ„λ²„ κµ¬ν„ κ°€μ΄λ“

`API_SPEC.md` νμΌμ— μƒμ„Έν• API λ…μ„Έκ°€ μμµλ‹λ‹¤.

μ£Όμ” κµ¬ν„ μ‚¬ν•­:
1. Oracle DB μ—°κ²° μ„¤μ •
2. 4κ°μ API μ—”λ“ν¬μΈνΈ κµ¬ν„
3. λ°μ΄ν„° μΏΌλ¦¬ λ° λ³€ν™
4. JSON μ‘λ‹µ μƒμ„±

## π§ ν…μ¤νΈ

### Mock ν΄λΌμ΄μ–ΈνΈ ν…μ¤νΈ

```bash
cd src
python api_client.py
```

μƒν” λ°μ΄ν„°λ΅ API ν΄λΌμ΄μ–ΈνΈ κΈ°λ¥ ν…μ¤νΈ

### Dash μ•± ν…μ¤νΈ

```bash
python app.py
```

Mock λ°μ΄ν„°λ΅ μ „μ²΄ λ€μ‹λ³΄λ“ κΈ°λ¥ ν…μ¤νΈ

## π“ ν™κ²½ λ³€μ

FastAPI μ„λ²„μ—μ„ μ‚¬μ©ν•  ν™κ²½ λ³€μ:

```bash
export ORACLE_USER=your_username
export ORACLE_PASSWORD=your_password
export ORACLE_DSN=localhost:1521/ORCL
```

## π”§ μ»¤μ¤ν„°λ§μ΄μ§•

### μƒλ΅μ΄ μΉ΄ν…κ³ λ¦¬ μ¶”κ°€

`src/db_config.py`μ—μ„ `CATEGORIES` λ”•μ…”λ„λ¦¬ μμ •

### μƒλ΅μ΄ ν†µκ³„ μ§€ν‘ μ¶”κ°€

`src/api_client.py`μ `get_statistics()` λ©”μ„λ“ ν™•μ¥

### μ°¨νΈ μ¤νƒ€μΌ λ³€κ²½

`assets/styles.css` νμΌ μμ •

## β οΈ μ£Όμμ‚¬ν•­

- FastAPI μ„λ²„κ°€ μ‹¤ν–‰ μ¤‘μ΄μ–΄μ•Ό μ‹¤μ  λ°μ΄ν„° μ΅°ν κ°€λ¥
- Mock ν΄λΌμ΄μ–ΈνΈλ” λλ¤ λ°μ΄ν„° μƒμ„± (ν…μ¤νΈμ©)
- Oracle DB μ—°κ²° μ •λ³΄λ” ν™κ²½ λ³€μλ΅ κ΄€λ¦¬ κ¶μ¥
- λ€λ‰ λ°μ΄ν„° μ΅°ν μ‹ λ΅λ”© μ‹κ°„ κ³ λ ¤

## π” μ¤ν”„λΌμΈ ν™κ²½ λ°°ν¬

μ΄ μ• ν”λ¦¬μΌ€μ΄μ…μ€ **μΈν„°λ„· μ—°κ²° μ—†μ΄λ„ λ™μ‘**ν•©λ‹λ‹¤:

### ν„μ¬ κµ¬μ„±
- β… Bootstrap CSS: `assets/bootstrap.min.css`μ— λ΅μ»¬ μ €μ¥λ¨
- β… μ»¤μ¤ν…€ CSS: `assets/styles.css`μ— λ΅μ»¬ μ €μ¥λ¨
- β… Dash/Plotly: Python ν¨ν‚¤μ§€λ΅ λ΅μ»¬ μ„¤μΉλ¨

### μ¤ν”„λΌμΈ ν™κ²½ λ°°ν¬ λ°©λ²•

1. **μ „μ²΄ ν”„λ΅μ νΈ λ³µμ‚¬**
```bash
# ν”„λ΅μ νΈ μ „μ²΄ λ””λ ‰ν† λ¦¬λ¥Ό μ¤ν”„λΌμΈ ν™κ²½μΌλ΅ λ³µμ‚¬
cp -r dash_plot /path/to/offline/environment/
```

2. **ν•„μ νμΌ ν™•μΈ**
```bash
cd dash_plot
ls assets/  # bootstrap.min.css, styles.css ν™•μΈ
```

3. **Python ν¨ν‚¤μ§€ μ¤ν”„λΌμΈ μ„¤μΉ** (ν•„μ” μ‹)
```bash
# μ¨λΌμΈ ν™κ²½μ—μ„ ν¨ν‚¤μ§€ λ‹¤μ΄λ΅λ“
pip download -r requirements.txt -d packages/

# μ¤ν”„λΌμΈ ν™κ²½μ—μ„ μ„¤μΉ
pip install --no-index --find-links=packages/ -r requirements.txt
```

4. **μ‹¤ν–‰**
```bash
python3 app.py
```

### ν™•μΈ μ‚¬ν•­
- `assets/` λ””λ ‰ν† λ¦¬μ— `bootstrap.min.css` νμΌ μ΅΄μ¬ μ—¬λ¶€
- Dashλ” `assets/` ν΄λ”μ λ¨λ“  CSS/JS νμΌμ„ μλ™μΌλ΅ λ΅λ“
- CDN λ§ν¬ μ—†μ - λ¨λ“  λ¦¬μ†μ¤κ°€ λ΅μ»¬μ— μ €μ¥λ¨

## π‰ μµκ·Ό μ—…λ°μ΄νΈ

### 2025-10-24: λ€κ·λ¨ λ¦¬ν©ν† λ§ μ™„λ£ β…
- β… λ¨λ†€λ¦¬μ‹ κµ¬μ΅° β†’ λ¨λ“ν™”λ κµ¬μ΅°λ΅ κ°μ„ 
- β… app.py μ½”λ“ 90% κ°μ† (697μ¤„ β†’ 68μ¤„)
- β… μ¬μ‚¬μ© κ°€λ¥ν• μ»΄ν¬λ„νΈ λ¶„λ¦¬
- β… ν…μ¤νΈ μ½”λ“ μ¶”κ°€ (λ¨λ“  ν…μ¤νΈ ν†µκ³Ό)
- β… κ΄€μ‹¬μ‚¬ λ¶„λ¦¬λ΅ μ μ§€λ³΄μμ„± λ€ν­ ν–¥μƒ

μμ„Έν• λ‚΄μ©μ€ [REFACTORING.md](REFACTORING.md) μ°Έμ΅°

## π§ ν…μ¤νΈ

```bash
# μ ν‹Έλ¦¬ν‹° ν•¨μ ν…μ¤νΈ μ‹¤ν–‰
python tests/test_utils.py
```

λ¨λ“  μ£Όμ” μ ν‹Έλ¦¬ν‹° ν•¨μμ— λ€ν• ν…μ¤νΈκ°€ ν†µκ³Όλμ—μµλ‹λ‹¤ β“

## π§ ν–¥ν›„ κ°λ° κ³„ν

- [ ] μ‹¤μ‹κ°„ λ°μ΄ν„° μ—…λ°μ΄νΈ
- [ ] λ°μ΄ν„° λ‚΄λ³΄λ‚΄κΈ° (CSV, Excel)
- [ ] μ‚¬μ©μ μ •μ μ§€ν‘ μ¶”κ°€
- [ ] μ•λ¦Ό κΈ°λ¥ (μ„κ³„κ°’ λ„λ‹¬ μ‹)
- [ ] λ‹¤ν¬ λ¨λ“
- [ ] λ¨λ°”μΌ μµμ ν™”
- [ ] μ¶”κ°€ ν…μ¤νΈ (μ½λ°±, ν†µν•© ν…μ¤νΈ)
- [ ] νƒ€μ… νν… κ°•ν™”

## π“„ λΌμ΄μ„ μ¤

MIT License

## π¤ κΈ°μ—¬

Issue λ° Pull Request ν™μν•©λ‹λ‹¤!

## π“§ λ¬Έμ

GitHub Issues: https://github.com/minhoo-main/dash_plot/issues

---

**λ§μ§€λ§‰ μ—…λ°μ΄νΈ:** 2025-10-24 (λ€κ·λ¨ λ¦¬ν©ν† λ§ μ™„λ£)
**Made with** β¤οΈ **and Python Dash**
